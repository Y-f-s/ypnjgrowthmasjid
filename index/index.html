<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Growth Masjid Daim | Yayasan Pemuda Nusantara Juara</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['"Plus Jakarta Sans"', 'sans-serif'] },
                    colors: {
                        emerald: { 50: '#ecfdf5', 100: '#d1fae5', 500: '#10b981', 600: '#059669', 700: '#047857', 900: '#064e3b' },
                        gold: { 400: '#fbbf24', 500: '#f59e0b' }
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }
    </script>
    <style>
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #059669; border-radius: 10px; }
        .glass-nav { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); }
        .swiper-button-next, .swiper-button-prev { color: #f59e0b !important; }
        .swiper-pagination-bullet-active { background-color: #f59e0b !important; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 antialiased selection:bg-emerald-200 selection:text-emerald-900">

    <nav class="glass-nav fixed w-full z-50 border-b border-gray-100 transition-all duration-300 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <div class="flex items-center gap-3">
                    <img src="logo-ypnj.png" alt="YPNJ" class="h-10 object-contain bg-white rounded-full p-0.5 shadow-sm">
                    <div>
                        <span class="block text-xl font-bold text-emerald-900 leading-none">Growth Masjid Daim</span>
                    </div>
                </div>
                <div class="hidden md:flex space-x-6 font-semibold text-sm">
                    <a href="#kisah" class="text-gray-600 hover:text-emerald-600 transition">Kisah Daim</a>
                    <a href="#program" class="text-gray-600 hover:text-emerald-600 transition">Program</a>
                    <a href="#donasi" class="text-gray-600 hover:text-emerald-600 transition">Cara Donasi</a>
                    <a href="#media-lokasi" class="text-gray-600 hover:text-emerald-600 transition">Media & Lokasi</a>
                </div>
                <div>
                    <a href="#donasi" class="bg-emerald-600 text-white px-5 md:px-6 py-2.5 rounded-full font-semibold shadow-md hover:bg-emerald-700 hover:shadow-lg transition-all transform hover:-translate-y-0.5 text-sm md:text-base">Mulai Donasi</a>
                </div>
            </div>
        </div>
    </nav>

    <section class="relative h-screen min-h-[600px] max-h-[800px] bg-gray-900 overflow-hidden">
        <div class="swiper heroSwiper h-full w-full">
            <div class="swiper-wrapper">
                
                <div class="swiper-slide relative flex items-center justify-center">
                    <div class="absolute inset-0 bg-emerald-900 -z-20"></div>
                    <div class="absolute inset-0 opacity-10 -z-10" style="background-image: radial-gradient(#10b981 1px, transparent 1px); background-size: 30px 30px;"></div>
                    
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center mt-10">
                        <span class="inline-block py-1.5 px-4 rounded-full bg-emerald-800/60 border border-emerald-500/40 text-emerald-200 text-sm font-semibold tracking-wide mb-6 backdrop-blur-sm shadow-inner">
                            <i class="fas fa-hand-holding-heart mr-2 text-gold-400"></i> Gerakan Kebaikan Bersama
                        </span>
                        <h1 class="text-4xl md:text-6xl font-extrabold text-white tracking-tight mb-6 leading-tight">
                            Investasi Abadi untuk <br class="hidden md:block" />
                            <span class="text-transparent bg-clip-text bg-gradient-to-r from-gold-400 to-yellow-200">Kemandirian Umat</span>
                        </h1>
                        <p class="mt-4 text-lg md:text-xl text-emerald-100 max-w-2xl mx-auto font-medium mb-10 leading-relaxed">
                            Setiap rupiah yang Anda sedekahkan menjadi bahan bakar operasional Growth Masjid Daim, pembinaan pemuda, dan syiar dakwah.
                        </p>
                        <div class="flex justify-center gap-4">
                            <a href="#donasi" class="bg-gold-500 text-emerald-950 px-8 py-4 rounded-full font-bold text-lg shadow-[0_0_20px_rgba(245,158,11,0.4)] hover:bg-gold-400 hover:scale-105 transition-all">
                                Donasi Sekarang
                            </a>
                        </div>
                    </div>
                </div>

                <div class="swiper-slide relative flex items-center justify-center bg-gray-950">
                    <div class="absolute inset-0 opacity-20 -z-10 bg-gradient-to-tr from-purple-900 via-pink-800 to-orange-600"></div>
                    
                    <div class="max-w-3xl mx-auto px-4 relative z-10 text-center">
                        <div class="w-24 h-24 mx-auto bg-gradient-to-tr from-yellow-400 via-pink-500 to-purple-600 p-1 rounded-full mb-6 shadow-2xl">
                            <div class="bg-white w-full h-full rounded-full flex items-center justify-center overflow-hidden">
                                <img src="logo-ypnj.png" alt="YPNJ" class="w-16 h-16 object-contain">
                            </div>
                        </div>
                        <h2 class="text-3xl md:text-5xl font-extrabold text-white tracking-tight mb-4">
                            Syiar Dakwah & <br> Update Harian
                        </h2>
                        <p class="text-lg text-gray-300 mb-8 max-w-lg mx-auto">
                            Ikuti berbagai kegiatan inspiratif, kajian rutin, dan laporan penyaluran Growth Masjid Daim secara transparan di Instagram resmi kami.
                        </p>
                        <a href="https://www.instagram.com/ypnj.official/" target="_blank" class="inline-flex items-center bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-full font-bold text-lg hover:scale-105 transition-all shadow-lg shadow-pink-900/50">
                            <i class="fab fa-instagram text-2xl mr-3"></i> Kunjungi @ypnj.official
                        </a>
                    </div>
                </div>

                <div class="swiper-slide relative flex items-center justify-center bg-gray-950">
                    <div class="absolute inset-0 opacity-20 -z-10 bg-gradient-to-tr from-emerald-900 via-teal-800 to-cyan-700"></div>
                    
                    <div class="max-w-3xl mx-auto px-4 relative z-10 text-center">
                        <div class="w-24 h-24 mx-auto bg-gradient-to-tr from-emerald-400 via-teal-500 to-cyan-600 p-1 rounded-full mb-6 shadow-2xl">
                            <div class="bg-white w-full h-full rounded-full flex items-center justify-center overflow-hidden">
                                <img src="logo-ldk.png" alt="LDK Fikri PNJ" onerror="this.src='https://placehold.co/100x100?text=LDK'" class="w-16 h-16 object-contain">
                            </div>
                        </div>
                        <h2 class="text-3xl md:text-5xl font-extrabold text-white tracking-tight mb-4">
                            Sinergi Dakwah Kampus
                        </h2>
                        <p class="text-lg text-gray-300 mb-8 max-w-lg mx-auto">
                            Berjalan beriringan bersama LDK Fikri PNJ untuk membangun generasi madani melalui berbagai program keislaman dan pembinaan.
                        </p>
                        <a href="https://www.instagram.com/ldk_fikri_pnj/" target="_blank" class="inline-flex items-center bg-gradient-to-r from-teal-600 to-emerald-600 text-white px-8 py-4 rounded-full font-bold text-lg hover:scale-105 transition-all shadow-lg shadow-teal-900/50">
                            <i class="fab fa-instagram text-2xl mr-3"></i> Kunjungi @ldk_fikri_pnj
                        </a>
                    </div>
                </div>

                <div class="swiper-slide relative flex items-center justify-center">
                    <div class="absolute inset-0 bg-emerald-950 -z-20"></div>
                    <div class="absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/arabesque.png')] -z-10"></div>
                    
                    <div class="max-w-5xl mx-auto px-4 relative z-10 text-center">
                        <i class="fas fa-quran text-5xl text-gold-400 mb-6 opacity-80"></i>
                        <h2 class="text-3xl md:text-5xl lg:text-6xl font-extrabold text-white tracking-tight mb-8 leading-tight">
                            "Perumpamaan orang yang <br>
                            <span class="text-transparent bg-clip-text bg-gradient-to-r from-gold-400 to-yellow-200">menginfakkan hartanya</span> <br> di jalan Allah..."
                        </h2>
                        <p class="text-lg md:text-xl text-emerald-100 max-w-3xl mx-auto font-medium leading-relaxed italic border-t border-emerald-800/50 pt-8">
                            "...seperti sebutir biji yang menumbuhkan tujuh tangkai, pada setiap tangkai ada seratus biji. Allah melipatgandakan bagi siapa yang Dia kehendaki." <br> <span class="font-bold text-gold-300 not-italic mt-2 block">— QS. Al-Baqarah: 261 —</span>
                        </p>
                    </div>
                </div>

                <div class="swiper-slide relative flex items-center justify-center">
                    <div class="absolute inset-0 bg-slate-900 -z-20"></div>
                    <div class="absolute inset-0 bg-gradient-to-b from-blue-900/50 to-emerald-900/50 -z-10"></div>
                    
                    <div class="max-w-5xl mx-auto px-4 relative z-10 text-center">
                        <i class="fas fa-kaaba text-5xl text-emerald-400 mb-6 opacity-80"></i>
                        <h2 class="text-3xl md:text-5xl lg:text-6xl font-extrabold text-white tracking-tight mb-8 leading-tight">
                            "Siapa yang membangun masjid <br>
                            <span class="text-transparent bg-clip-text bg-gradient-to-r from-emerald-300 to-teal-100">karena Allah...</span>"
                        </h2>
                        <p class="text-lg md:text-xl text-slate-300 max-w-2xl mx-auto font-medium leading-relaxed italic border-t border-slate-700/50 pt-8">
                            "...maka Allah akan membangunkan baginya semisal itu di surga." <br> <span class="font-bold text-emerald-400 not-italic mt-2 block">— HR. Bukhari & Muslim —</span>
                        </p>
                    </div>
                </div>

            </div>
            <div class="swiper-pagination mb-4"></div>
            <div class="swiper-button-prev ml-4 hidden md:flex"></div>
            <div class="swiper-button-next mr-4 hidden md:flex"></div>
        </div>
    </section>

    <section class="bg-white py-8 shadow-sm relative z-10 -mt-8 rounded-t-[2rem]">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <p class="text-center text-xs font-bold text-gray-400 uppercase tracking-widest mb-6">Diinisiasi & Didukung Penuh Oleh</p>
            <div class="flex flex-wrap justify-center items-center gap-6 md:gap-14 opacity-90 hover:opacity-100 transition-opacity duration-300">
                <img src="logo-ypnj.png" alt="Yayasan Pemuda Nusantara Juara" class="h-12 md:h-16 object-contain drop-shadow-sm hover:scale-105 transition-transform" title="Yayasan Pemuda Nusantara Juara">
                <img src="logo-dkm.jpeg" alt="DKM Masjid Daim" class="h-12 md:h-16 object-contain drop-shadow-sm hover:scale-105 transition-transform" title="DKM Masjid Daim PNJ">
                <img src="logo-ldk.png" alt="LDK Fikri PNJ" onerror="this.src='https://placehold.co/200x100?text=Logo+LDK'" class="h-12 md:h-16 object-contain drop-shadow-sm hover:scale-105 transition-transform" title="LDK Fikri PNJ">
                <img src="logo-ikapunija.png" alt="IKA PNJ" class="h-10 md:h-12 object-contain drop-shadow-sm hover:scale-105 transition-transform" title="IKAPUNIJA">
                <img src="logo-yhafa.png" alt="Yhafa Inovasi Sejahtera" class="h-10 md:h-14 object-contain drop-shadow-sm hover:scale-105 transition-transform" title="Yhafa Inovasi Sejahtera (Partner QRIS)">
            </div>
        </div>
    </section>

    <section id="kisah" class="py-16 md:py-24 bg-gray-50 border-t border-b border-gray-200">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-12 gap-10 items-center">
                
                <div class="md:col-span-7 pr-0 md:pr-8">
                    <span class="inline-flex items-center text-emerald-600 font-bold tracking-wider uppercase text-sm mb-3">
                        <i class="fas fa-history mr-2"></i> Rekam Jejak
                    </span>
                    <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900 mb-6 leading-tight">
                        Merajut Kenangan, <br> Membangun Masa Depan <span class="text-emerald-600">Daim</span>
                    </h2>
                    <p class="text-gray-600 leading-relaxed mb-5 text-lg">
                        Sejak Politeknik Negeri Jakarta masih menyatu bersama Universitas Indonesia, <strong>Masjid Darul 'Ilmi (Daim)</strong> telah tegak berdiri membersamai keluarga besar PNJ.
                    </p>
                    <p class="text-gray-600 leading-relaxed mb-5">
                        Lebih dari sekadar tempat sujud, masjid ini adalah jantung peradaban kampus. Tempat para mahasiswa merekam kenangan indahnya—mulai dari duduk melingkar belajar Al-Qur'an, hingga menjadikan pelatarannya tempat bersandar menunggu pergantian jam mata kuliah.
                    </p>
                    <p class="text-gray-600 leading-relaxed mb-8">
                        Kini, ikhtiar pembangunan dan optimalisasi Masjid Daim kembali digerakkan. Mengingat fungsinya sebagai pilar utama ibadah mahasiswa Muslim, kami mengajak Anda untuk ikut ambil bagian. Kendala biaya tidak boleh menghentikan langkah kita dalam memakmurkan rumah Allah ini.
                    </p>
                    <div class="inline-flex items-center justify-center bg-white px-5 py-3 rounded-full border border-gray-200 shadow-sm text-sm font-semibold text-gray-700">
                        Sinergi: YPNJ <i class="fas fa-handshake text-emerald-500 mx-2"></i> LDK Fikri PNJ
                    </div>
                </div>

                <div class="md:col-span-5">
                    <div class="bg-gradient-to-br from-emerald-900 to-emerald-700 rounded-3xl p-8 shadow-2xl text-center relative overflow-hidden transform hover:-translate-y-1 transition-transform duration-300">
                        <div class="absolute top-0 right-0 -mt-6 -mr-6 w-32 h-32 bg-gold-500 rounded-full blur-3xl opacity-30"></div>
                        <div class="absolute bottom-0 left-0 -mb-6 -ml-6 w-24 h-24 bg-emerald-400 rounded-full blur-2xl opacity-20"></div>
                        
                        <div class="w-16 h-16 mx-auto bg-emerald-800 rounded-2xl flex items-center justify-center mb-6 border border-emerald-600/50 shadow-inner relative z-10">
                            <i class="fas fa-mosque text-2xl text-gold-400"></i>
                        </div>
                        
                        <p class="text-emerald-50 text-lg font-medium leading-relaxed italic mb-8 relative z-10">
                            "Barangsiapa yang membangun masjid karena Allah, walaupun hanya selubang tempat burung bertelur atau lebih kecil, maka Allah akan bangunkan baginya (rumah) seperti itu pula di surga."
                        </p>
                        
                        <div class="border-t border-emerald-600/60 pt-5 relative z-10">
                            <p class="text-gold-300 font-bold text-sm tracking-widest uppercase">HR. Ibnu Majah no. 738</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <section id="program" class="py-20 bg-white border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-bold text-gray-900">Pilar Program Penyaluran</h2>
                <div class="w-20 h-1.5 bg-emerald-500 mx-auto mt-4 rounded-full"></div>
            </div>
            
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-gray-50 rounded-[2rem] p-8 shadow-sm border border-gray-100 hover:shadow-xl hover:-translate-y-2 transition-all duration-300 group">
                    <div class="w-16 h-16 bg-emerald-100 rounded-2xl flex items-center justify-center text-emerald-600 text-3xl mb-6 group-hover:bg-emerald-600 group-hover:text-white transition-colors">
                        <i class="fas fa-hard-hat"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">Pembangunan & Renovasi</h3>
                    <p class="text-gray-600 leading-relaxed text-sm">Fokus utama pada penyelesaian pembangunan area masjid yang terkendala, dilanjutkan dengan pemeliharaan fasilitas demi kenyamanan ibadah jamaah.</p>
                </div>
                <div class="bg-gray-50 rounded-[2rem] p-8 shadow-sm border border-gray-100 hover:shadow-xl hover:-translate-y-2 transition-all duration-300 group">
                    <div class="w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center text-blue-600 text-3xl mb-6 group-hover:bg-blue-600 group-hover:text-white transition-colors">
                        <i class="fas fa-users-rays"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">Pemberdayaan Pemuda</h3>
                    <p class="text-gray-600 leading-relaxed text-sm">Yayasan Pemuda Nusantara Juara mencetak generasi unggul melalui beasiswa, pelatihan skill, pembinaan, dan dukungan Growth Masjid Daim.</p>
                </div>
                <div class="bg-gray-50 rounded-[2rem] p-8 shadow-sm border border-gray-100 hover:shadow-xl hover:-translate-y-2 transition-all duration-300 group">
                    <div class="w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center text-amber-600 text-3xl mb-6 group-hover:bg-amber-600 group-hover:text-white transition-colors">
                        <i class="fas fa-book-open-reader"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">Syiar Dakwah & Kajian</h3>
                    <p class="text-gray-600 leading-relaxed text-sm">Mendukung kegiatan dakwah kampus, kajian rutin, dan literasi keislaman bagi mahasiswa dan masyarakat sekitar.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="donasi" class="py-20 bg-gray-50 border-b border-gray-200">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900 mb-4">Salurkan Kebaikan Anda</h2>
                <p class="text-gray-600 text-lg max-w-2xl mx-auto">Ikuti 3 langkah mudah di bawah ini. Pilih nominal terlebih dahulu agar sistem dapat membuatkan kode unik verifikasi untuk Anda.</p>
            </div>

            <form id="donasiForm" class="bg-white rounded-[2.5rem] p-8 md:p-12 shadow-[0_15px_40px_-15px_rgba(0,0,0,0.1)] border border-gray-100 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-emerald-500 to-teal-400"></div>

                <div class="mb-10">
                    <div class="flex items-center mb-6">
                        <div class="w-10 h-10 rounded-full bg-emerald-100 text-emerald-700 flex items-center justify-center font-extrabold text-lg mr-4 border border-emerald-200">1</div>
                        <h3 class="text-2xl font-bold text-gray-800">Isi Data & Nominal Donasi</h3>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-2">Tanggal Transfer <span class="text-red-500">*</span></label>
                            <input type="date" id="tanggal" required class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 bg-gray-50 transition-colors">
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-2">Nama Donatur <span class="text-red-500">*</span></label>
                            <input type="text" id="nama" placeholder="Contoh: Hamba Allah" required class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 bg-gray-50 transition-colors">
                        </div>
                    </div>

                    <div class="mb-2">
                        <label class="block text-sm font-bold text-gray-700 mb-3">Pilih Nominal Donasi <span class="text-red-500">*</span></label>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-3" id="nominalButtons">
                            <button type="button" onclick="pilihNominal(50000, this)" class="nom-btn w-full py-3 border border-emerald-200 text-emerald-700 rounded-xl font-bold hover:bg-emerald-50 transition-all bg-white shadow-sm">Rp 50.000</button>
                            <button type="button" onclick="pilihNominal(100000, this)" class="nom-btn w-full py-3 border border-emerald-200 text-emerald-700 rounded-xl font-bold hover:bg-emerald-50 transition-all bg-white shadow-sm">Rp 100.000</button>
                            <button type="button" onclick="pilihNominal(200000, this)" class="nom-btn w-full py-3 border border-emerald-200 text-emerald-700 rounded-xl font-bold hover:bg-emerald-50 transition-all bg-white shadow-sm">Rp 200.000</button>
                            <button type="button" onclick="pilihNominal(500000, this)" class="nom-btn w-full py-3 border border-emerald-200 text-emerald-700 rounded-xl font-bold hover:bg-emerald-50 transition-all bg-white shadow-sm">Rp 500.000</button>
                            <button type="button" onclick="pilihNominal(1000000, this)" class="nom-btn w-full py-3 border border-emerald-200 text-emerald-700 rounded-xl font-bold hover:bg-emerald-50 transition-all bg-white shadow-sm">Rp 1 Juta</button>
                            <button type="button" onclick="tampilNominalLainnya(this)" class="nom-btn w-full py-3 border border-emerald-200 text-emerald-700 rounded-xl font-bold hover:bg-emerald-50 transition-all bg-white shadow-sm">Lainnya</button>
                        </div>
                        
                        <div id="inputLainnya" class="hidden relative mt-4">
                            <span class="absolute inset-y-0 left-0 pl-4 flex items-center font-bold text-gray-500">Rp</span>
                            <input type="number" id="nominalCustom" placeholder="Masukkan nominal (contoh: 150000)" class="w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 bg-gray-50 text-lg font-bold" oninput="hitungTotalCustom(this.value)">
                        </div>
                        <input type="hidden" id="nominalValue" required>
                    </div>
                </div>

                <div id="paymentSection" class="hidden opacity-0 transition-opacity duration-700 mb-10 pt-6 border-t border-gray-100">
                    <div class="flex items-center mb-6">
                        <div class="w-10 h-10 rounded-full bg-emerald-100 text-emerald-700 flex items-center justify-center font-extrabold text-lg mr-4 border border-emerald-200">2</div>
                        <h3 class="text-2xl font-bold text-gray-800">Transfer Pembayaran</h3>
                    </div>

                    <div class="bg-gradient-to-br from-emerald-900 to-emerald-800 rounded-3xl p-8 text-center mb-8 shadow-xl relative overflow-hidden">
                        <div class="absolute top-0 right-0 -mt-8 -mr-8 w-32 h-32 bg-gold-500 rounded-full blur-3xl opacity-20"></div>
                        <p class="text-emerald-100 font-medium mb-2 relative z-10">Total yang harus ditransfer:</p>
                        
                        <div class="flex flex-col items-center justify-center mb-5 relative z-10">
                            <p class="text-4xl md:text-5xl font-extrabold text-white tracking-tight mb-3" id="totalTransferText">Rp 0</p>
                            
                            <button onclick="copyTotalDonasi()" type="button" class="inline-flex items-center text-sm font-bold bg-emerald-700/80 hover:bg-emerald-600 text-white px-5 py-2 rounded-full transition-all border border-emerald-500/50 shadow-sm active:scale-95">
                                <i class="far fa-copy mr-2"></i> Salin Nominal
                            </button>
                            <p id="copy-total-toast" class="text-sm text-gold-300 font-bold mt-2 hidden transition-all"><i class="fas fa-check-circle mr-1"></i> Berhasil disalin!</p>
                        </div>

                        <div class="inline-flex items-center bg-emerald-950/50 px-4 py-2 rounded-full border border-emerald-700/50 text-sm relative z-10">
                            <i class="fas fa-check-circle text-gold-400 mr-2"></i>
                            <span class="text-emerald-50">Termasuk kode unik <strong id="kodeUnikSpan" class="text-gold-300"></strong> untuk verifikasi & maintenance </span>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-gray-50 rounded-2xl p-6 border border-gray-200 flex flex-col justify-center">
                            <div class="flex items-center justify-between mb-4 pb-4 border-b border-gray-200">
                                <h4 class="font-bold text-gray-800 flex items-center"><i class="fas fa-university text-emerald-600 mr-2"></i> Transfer Bank</h4>
                                <span class="text-xs font-bold bg-white text-emerald-700 px-3 py-1 rounded-md border border-gray-200 shadow-sm">BSI</span>
                            </div>
                            <p class="text-xs text-gray-500 font-bold tracking-wider uppercase mb-1">Nomor Rekening</p>
                            <div class="flex justify-between items-center bg-white p-3 rounded-xl border border-gray-200 mb-3">
                                <p class="text-2xl font-extrabold text-gray-900 tracking-wider font-mono" id="rek-number">2020206673</p>
                                <button onclick="copyToClipboard()" type="button" class="bg-emerald-100 text-emerald-700 w-10 h-10 rounded-lg flex items-center justify-center hover:bg-emerald-600 hover:text-white transition-all active:scale-95" title="Salin Rekening">
                                    <i class="far fa-copy"></i>
                                </button>
                            </div>
                            <p class="text-sm font-bold text-gray-700">a.n Yayasan Pemuda Nusantara Juara</p>
                            <p id="copy-toast" class="text-xs text-emerald-600 font-bold mt-2 hidden transition-all"><i class="fas fa-check-circle mr-1"></i> Berhasil disalin!</p>
                        </div>

                        <div class="bg-gray-50 rounded-2xl p-6 border border-gray-200 flex flex-col items-center justify-center text-center">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/a/a2/Logo_QRIS.svg" alt="QRIS" class="h-6 mb-4">
                            <img src="logo-qris.jpeg" alt="QRIS Pembayaran" class="w-full max-w-[160px] rounded-xl object-contain shadow-md border-2 border-white mb-4 hover:scale-105 transition-transform">
                            <a href="logo-qris.jpeg" download="QRIS_Growth_Masjid.jpeg" class="text-xs font-bold text-emerald-600 hover:text-emerald-800 flex items-center">
                                <i class="fas fa-download mr-1"></i> Download QRIS Mitra YPNJ
                            </a>
                        </div>
                    </div>
                </div>

                <div id="uploadSection" class="hidden opacity-0 transition-opacity duration-700 pt-6 border-t border-gray-100">
                    <div class="flex items-center mb-6">
                        <div class="w-10 h-10 rounded-full bg-emerald-100 text-emerald-700 flex items-center justify-center font-extrabold text-lg mr-4 border border-emerald-200">3</div>
                        <h3 class="text-2xl font-bold text-gray-800">Upload Bukti & Konfirmasi</h3>
                    </div>

                    <div class="mb-6">
                        <label class="block text-sm font-bold text-gray-700 mb-2">Upload Bukti Transfer <span class="text-red-500">*</span></label>
                        <input type="file" id="bukti" accept="image/*,application/pdf" required class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 bg-gray-50 text-sm file:mr-4 file:py-2.5 file:px-5 file:rounded-full file:border-0 file:text-sm file:font-bold file:bg-emerald-100 file:text-emerald-700 hover:file:bg-emerald-200 transition-all cursor-pointer">
                    </div>

                    <div class="mb-8">
                        <label class="block text-sm font-bold text-gray-700 mb-2">Titipan Doa / Keterangan (Opsional)</label>
                        <textarea id="keterangan" rows="3" placeholder="Contoh: Sedekah atas nama orang tua..." class="w-full p-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 bg-gray-50 resize-none"></textarea>
                    </div>

                    <button type="submit" id="btnSubmit" class="w-full bg-emerald-600 text-white font-bold text-lg py-4 rounded-xl hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-600/30 flex justify-center items-center transform hover:-translate-y-1">
                        <i class="fas fa-paper-plane mr-2"></i> Kirim Form & Konfirmasi WA
                    </button>
                    <div id="loadingText" class="hidden text-center text-emerald-600 font-bold mt-4 animate-pulse">
                        <i class="fas fa-spinner fa-spin mr-2"></i> Mengamankan data & mengunggah bukti...
                    </div>
                </div>

            </form>
        </div>
    </section>

    <section id="komunitas" class="py-12 bg-emerald-600 relative overflow-hidden">
        <div class="absolute top-0 right-0 w-64 h-64 bg-emerald-500 rounded-full blur-3xl opacity-50 -mt-20 -mr-20"></div>
        <div class="absolute bottom-0 left-0 w-48 h-48 bg-emerald-700 rounded-full blur-3xl opacity-50 -mb-20 -ml-20"></div>
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
            <h2 class="text-3xl md:text-4xl font-extrabold text-white mb-4">Mari Istiqomah Bersama!</h2>
            <p class="text-emerald-100 text-lg mb-8 max-w-2xl mx-auto">
                Bergabunglah dengan grup WhatsApp <span class="font-bold text-white">"Gerakan Sedekah Harian Growth Masjid Daim"</span>. Dapatkan update harian, pengingat kebaikan, dan laporan penyaluran rutin.
            </p>
            <a href="https://chat.whatsapp.com/CvHccUihBE82npj7OovhRf" target="_blank" class="inline-flex items-center justify-center bg-white text-emerald-700 font-bold px-8 py-4 rounded-full hover:bg-gray-50 hover:scale-105 transition-all shadow-xl">
                <i class="fab fa-whatsapp text-3xl mr-3 text-[#25D366]"></i> Gabung Komunitas Sekarang
            </a>
        </div>
    </section>

    <section class="py-12 bg-gray-50 border-b border-gray-200 relative overflow-hidden">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="bg-white rounded-[2.5rem] p-8 md:p-12 shadow-[0_15px_40px_-15px_rgba(0,0,0,0.1)] border border-gray-100 relative overflow-hidden transform hover:-translate-y-1 transition-all duration-300">
                <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-gold-400 to-yellow-200"></div>
                
                <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-2">Total Donasi Terkumpul</h2>
                
                <div class="flex items-center justify-center gap-2 text-sm text-emerald-600 font-bold mb-6 bg-emerald-50 inline-flex px-4 py-1.5 rounded-full border border-emerald-100">
                    <span class="relative flex h-3 w-3">
                      <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span>
                      <span class="relative inline-flex rounded-full h-3 w-3 bg-emerald-500"></span>
                    </span>
                    Live Update Otomatis
                </div>
                
                <div class="w-full overflow-hidden flex justify-center my-6">
                    <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vSzFUXcjuN7RfDF57khLrj7PPxzzGD3WIDpfO-OSj5OsB2-yJXXQzIkgGQBOWdJe1Q47Tb50FfzxSDF/pubchart?oid=2045945443&format=interactive" width="100%" height="350" frameborder="0" style="max-width: 700px; border: none; min-height: 350px;"></iframe>
                </div>
                
                <p class="text-xs text-gray-400 font-medium mt-4">
                    <i class="fas fa-info-circle mr-1"></i> Data ditarik *real-time* dari sistem pencatatan bendahara.
                </p>
            </div>
        </div>
    </section>

    <section id="transparansi" class="py-20 bg-white border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-end mb-10 gap-4">
                <div>
                    <h2 class="text-3xl font-bold text-gray-900 flex items-center">
                        <i class="fas fa-chart-line text-emerald-500 mr-3"></i> Laporan Transparansi
                    </h2>
                    <p class="text-gray-600 mt-2 font-medium">Terintegrasi langsung secara real-time dari database harian kami.</p>
                </div>
                <div class="flex gap-3">
                    <a href="https://docs.google.com/spreadsheets/d/1-a7HLWWYvkCkf_4ikrmjnjpwrGQDExlPoCCp99aS5Hw/edit" target="_blank" class="text-sm font-bold text-gray-600 hover:text-emerald-700 bg-white px-5 py-2.5 rounded-xl border border-gray-200 shadow-sm transition-all hover:shadow-md flex items-center">
                        <i class="fas fa-file-excel text-green-600 mr-2 text-lg"></i> Data Mentah
                    </a>
                </div>
            </div>
            
            <div class="bg-gray-50 p-2 md:p-4 rounded-[2rem] shadow-[0_10px_40px_-10px_rgba(0,0,0,0.08)] border border-gray-100 overflow-hidden">
                <iframe width="100%" height="750" src="https://lookerstudio.google.com/embed/reporting/4fe0d93f-8d8e-4458-b1ee-8855bb65aaa9/page/p_0cc27l9zqd" frameborder="0" style="border:0" allowfullscreen class="rounded-[1.5rem] bg-white"></iframe>
            </div>
        </div>
    </section>

    <section id="media-lokasi" class="py-20 bg-gray-50 border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span class="text-emerald-600 font-bold tracking-wider uppercase text-sm">Media & Lokasi</span>
                <h2 class="text-3xl font-bold text-gray-900 mt-2">Dokumentasi & Pusat Kegiatan</h2>
                <div class="w-20 h-1.5 bg-emerald-500 mx-auto mt-4 rounded-full"></div>
            </div>

            <div class="grid lg:grid-cols-2 gap-8 mb-8 items-stretch">
                <div class="bg-white p-4 rounded-[2rem] border border-gray-100 shadow-lg flex flex-col">
                    <h3 class="font-bold text-gray-800 mb-4 ml-2 flex items-center"><i class="fas fa-play-circle text-emerald-500 mr-2 text-xl"></i> Video Profil Kegiatan</h3>
                    <div class="w-full rounded-xl overflow-hidden shadow-inner bg-gray-200 flex-1 flex items-center justify-center min-h-[350px] relative">
                        <iframe class="w-full h-full absolute inset-0" src="https://drive.google.com/file/d/13OCE_lLT_Z1E8vizZsv5VrJUYvsAuELv/preview" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>
                    </div>
                    <p class="text-xs text-gray-500 mt-3 text-center">*Video Aktifitas Kegiatan Masjid </p>
                </div>

                <div class="bg-gradient-to-br from-emerald-900 to-emerald-700 p-8 md:p-10 rounded-[2rem] border border-emerald-600 shadow-lg flex flex-col justify-center relative overflow-hidden h-full min-h-[350px] text-left">
                    <div class="absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-gold-500 rounded-full blur-3xl opacity-20"></div>
                    <div class="absolute bottom-0 left-0 -mb-10 -ml-10 w-32 h-32 bg-emerald-400 rounded-full blur-3xl opacity-20"></div>
                    
                    <div class="relative z-10">
                        <p class="text-emerald-200 font-medium mb-2 italic">Assalamu'alaikum Warahmatullahi Wabarakatuh</p>
                        <h3 class="text-2xl md:text-3xl font-bold text-white mb-6">Jazakumullah Khairan Katsiran</h3>
                        
                        <p class="text-emerald-50 mb-8 text-base leading-relaxed font-medium">
                            Terima kasih atas infaq dan sedekah terbaik Anda untuk pembangunan Growth Masjid Daim. Semoga menjadi amal jariyah yang tak terputus pahalanya.
                        </p>
                        
                        <div class="pt-6 border-t border-emerald-600/50 flex items-start">
                            <i class="fas fa-quote-left text-gold-400 text-xl mr-4 mt-1"></i>
                            <div>
                                <p class="text-sm md:text-base text-emerald-100 italic font-medium leading-relaxed mb-2">
                                    "Siapa yang membangun masjid karena Allah, maka Allah akan membangunkan baginya semisal itu di surga."
                                </p>
                                <p class="text-gold-300 font-bold text-xs tracking-wider uppercase">— HR. Bukhari & Muslim —</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-6 mt-16">
                <div class="group relative overflow-hidden rounded-2xl aspect-square bg-white shadow-sm hover:shadow-xl transition-all border border-gray-100 p-1">
                    <img src="dok-1.jpeg" alt="Dokumentasi 1" onerror="this.src='https://placehold.co/600x600/e2e8f0/64748b?text=Siapkan+dok-1.jpeg'" class="w-full h-full object-cover rounded-xl group-hover:scale-105 transition-transform duration-500">
                </div>
                <div class="group relative overflow-hidden rounded-2xl aspect-square bg-white shadow-sm hover:shadow-xl transition-all border border-gray-100 p-1">
                    <img src="dok-2.jpeg" alt="Dokumentasi 2" onerror="this.src='https://placehold.co/600x600/e2e8f0/64748b?text=Siapkan+dok-2.jpeg'" class="w-full h-full object-cover rounded-xl group-hover:scale-105 transition-transform duration-500">
                </div>
                <div class="group relative overflow-hidden rounded-2xl aspect-square bg-white shadow-sm hover:shadow-xl transition-all border border-gray-100 p-1">
                    <img src="dok-3.jpeg" alt="Dokumentasi 3" onerror="this.src='https://placehold.co/600x600/e2e8f0/64748b?text=Siapkan+dok-3.jpeg'" class="w-full h-full object-cover rounded-xl group-hover:scale-105 transition-transform duration-500">
                </div>
                <div class="group relative overflow-hidden rounded-2xl aspect-square bg-white shadow-sm hover:shadow-xl transition-all border border-gray-100 p-1">
                    <img src="dok-4.jpeg" alt="Dokumentasi 4" onerror="this.src='https://placehold.co/600x600/e2e8f0/64748b?text=Siapkan+dok-4.jpeg'" class="w-full h-full object-cover rounded-xl group-hover:scale-105 transition-transform duration-500">
                </div>
                <div class="group relative overflow-hidden rounded-2xl aspect-square bg-white shadow-sm hover:shadow-xl transition-all border border-gray-100 p-1">
                    <img src="dok-5.jpeg" alt="Dokumentasi 5" onerror="this.src='https://placehold.co/600x600/e2e8f0/64748b?text=Siapkan+dok-5.jpeg'" class="w-full h-full object-cover rounded-xl group-hover:scale-105 transition-transform duration-500">
                </div>
                <div class="group relative overflow-hidden rounded-2xl aspect-square bg-white shadow-sm hover:shadow-xl transition-all border border-gray-100 p-1">
                    <img src="dok-6.jpeg" alt="Dokumentasi 6" onerror="this.src='https://placehold.co/600x600/e2e8f0/64748b?text=Siapkan+dok-6.jpeg'" class="w-full h-full object-cover rounded-xl group-hover:scale-105 transition-transform duration-500">
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-gray-950 text-gray-400 py-16 border-t border-gray-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-3 gap-10 mb-10 border-b border-gray-800 pb-10">
                <div>
                    <div class="flex items-center gap-3 mb-4">
                        <img src="logo-ypnj.png" alt="YPNJ" class="h-8 object-contain bg-white rounded p-1">
                        <span class="text-white font-bold text-xl">Growth Masjid Daim</span>
                    </div>
                    <p class="text-sm leading-relaxed mb-6">Wadah kolaborasi kebaikan antara Yayasan Pemuda Nusantara Juara dan LDK Fikri PNJ.</p>
                    <div class="flex space-x-4 text-xl">
                        <a href="https://www.instagram.com/ypnj.official/" target="_blank" class="w-10 h-10 rounded-full bg-gray-900 flex items-center justify-center hover:bg-emerald-600 hover:text-white transition-all"><i class="fab fa-instagram"></i></a>
                        <a href="https://wa.me/6287787187428" target="_blank" class="w-10 h-10 rounded-full bg-gray-900 flex items-center justify-center hover:bg-[#25D366] hover:text-white transition-all"><i class="fab fa-whatsapp"></i></a>
                        <a href="https://youtu.be/gex1v5jbujI?si=nQCsTjLMJfwU3dqf" target="_blank" class="w-10 h-10 rounded-full bg-gray-900 flex items-center justify-center hover:bg-emerald-600 hover:text-white transition-all"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                
                <div>
                    <h4 class="text-white font-bold mb-4">Partner Kebaikan</h4>
                    <ul class="space-y-2 text-sm">
                        <li class="flex items-center"><i class="fas fa-chevron-right text-emerald-600 text-xs mr-2"></i> Yayasan Pemuda Nusantara Juara</li>
                        <li class="flex items-center"><i class="fas fa-chevron-right text-emerald-600 text-xs mr-2"></i> DKM Masjid Daim PNJ</li>
                        <li class="flex items-center"><i class="fas fa-chevron-right text-emerald-600 text-xs mr-2"></i> LDK Fikri PNJ</li>
                        <li class="flex items-center"><i class="fas fa-chevron-right text-emerald-600 text-xs mr-2"></i> Yansyah Technology</li>
                        <li class="flex items-center"><i class="fas fa-chevron-right text-emerald-600 text-xs mr-2"></i> Yhafa Inovasi Sejahtera</li>
                    </ul>
                </div>

                <div>
                    <h4 class="text-white font-bold mb-4">Kontak Admin</h4>
                    <ul class="space-y-3 text-sm mb-4">
                        <li class="flex items-start"><i class="fas fa-map-marker-alt text-emerald-600 mt-1 mr-3"></i> <span>Sekretariat YPNJ / Growth Masjid Daim<br>Kota Jakarta Selatan</span></li>
                        <li class="flex items-center"><i class="fas fa-phone text-emerald-600 mr-3"></i> +62 877-8718-7428 (Admin YPNJ)</li>
                    </ul>
                    
                    <div class="w-full h-32 rounded-xl overflow-hidden shadow-inner border border-gray-800 opacity-80 hover:opacity-100 transition-opacity duration-300">
                        <iframe class="w-full h-full" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4187.765923672538!2d106.7870617108166!3d-6.299618261628706!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e69f1cee1af6859%3A0xa6a64459b5ee6486!2sYAYASAN%20PEMUDA%20NUSANTARA%20JUARA!5e1!3m2!1sid!2sid!4v1771793288449!5m2!1sid!2sid" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                </div>
            </div>
            
            <div class="flex flex-col md:flex-row justify-between items-center text-sm text-gray-600">
                <p>© 2026 Gerakan Sedekah & Infaq Growth Masjid Daim. All rights reserved.</p>
                <div class="mt-4 md:mt-0 flex items-center justify-center md:justify-end gap-2 text-xs font-semibold">
                    <span>Developed with <i class="fas fa-heart text-emerald-600 mx-1"></i> by</span>
                    <img src="logo-yansyah.png" alt="Yansyah Technology" class="h-6 object-contain filter grayscale hover:grayscale-0 transition-all cursor-pointer" title="Yansyah Technology">
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        // INISIALISASI SLIDER
        var swiper = new Swiper(".heroSwiper", {
            loop: true,
            autoplay: { delay: 6000, disableOnInteraction: false }, 
            pagination: { el: ".swiper-pagination", clickable: true },
            navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" },
            effect: "fade", fadeEffect: { crossFade: true }
        });

        // GENERATE KODE UNIK (1 - 999)
        const kodeUnik = Math.floor(Math.random() * 999) + 1;
        document.getElementById('kodeUnikSpan').innerText = kodeUnik.toString().padStart(3, '0');

        function copyToClipboard() {
            var rekNumber = document.getElementById("rek-number").innerText;
            navigator.clipboard.writeText(rekNumber).then(function() {
                var toast = document.getElementById("copy-toast");
                toast.classList.remove("hidden"); toast.classList.add("block");
                setTimeout(() => { toast.classList.remove("block"); toast.classList.add("hidden"); }, 2500);
            });
        }

        // FUNGSI BARU: SALIN NOMINAL TOTAL (MURNI ANGKA)
        function copyTotalDonasi() {
            // Ambil angka murni tanpa Rp atau titik dari input hidden (contoh: 150123)
            var nominalMurni = document.getElementById("nominalValue").value;
            
            navigator.clipboard.writeText(nominalMurni).then(function() {
                var toast = document.getElementById("copy-total-toast");
                toast.classList.remove("hidden"); toast.classList.add("block");
                setTimeout(() => { toast.classList.remove("block"); toast.classList.add("hidden"); }, 2500);
            });
        }

        function resetTombol() {
            let btns = document.querySelectorAll('.nom-btn');
            btns.forEach(btn => {
                btn.classList.remove('bg-emerald-600', 'text-white', 'shadow-md', 'scale-105');
                btn.classList.add('text-emerald-700', 'bg-white', 'shadow-sm');
            });
        }

        // FUNGSI UTAMA UX
        function tampilkanBoxTotal(totalBaru) {
            document.getElementById('totalTransferText').innerText = "Rp " + totalBaru.toLocaleString('id-ID');
            document.getElementById('nominalValue').value = totalBaru; 
            
            const paymentSec = document.getElementById('paymentSection');
            const uploadSec = document.getElementById('uploadSection');
            
            paymentSec.classList.remove('hidden');
            uploadSec.classList.remove('hidden');
            
            setTimeout(() => {
                paymentSec.classList.remove('opacity-0');
                uploadSec.classList.remove('opacity-0');
            }, 50);
        }

        function pilihNominal(nilaiDasar, btnEl) {
            resetTombol();
            btnEl.classList.add('bg-emerald-600', 'text-white', 'shadow-md', 'scale-105');
            btnEl.classList.remove('text-emerald-700', 'bg-white', 'shadow-sm');
            
            document.getElementById('inputLainnya').classList.add('hidden');
            
            let totalTransfer = nilaiDasar + kodeUnik;
            tampilkanBoxTotal(totalTransfer);
        }

        function tampilNominalLainnya(btnEl) {
            resetTombol();
            btnEl.classList.add('bg-emerald-600', 'text-white', 'shadow-md', 'scale-105');
            btnEl.classList.remove('text-emerald-700', 'bg-white', 'shadow-sm');
            
            document.getElementById('inputLainnya').classList.remove('hidden');
            document.getElementById('nominalCustom').value = ""; 
            
            document.getElementById('paymentSection').classList.add('opacity-0');
            document.getElementById('uploadSection').classList.add('opacity-0');
            setTimeout(() => {
                document.getElementById('paymentSection').classList.add('hidden');
                document.getElementById('uploadSection').classList.add('hidden');
            }, 500);

            document.getElementById('nominalCustom').focus();
        }

        function hitungTotalCustom(nilaiCustom) {
            if(!nilaiCustom || nilaiCustom <= 0) {
                document.getElementById('paymentSection').classList.add('hidden', 'opacity-0');
                document.getElementById('uploadSection').classList.add('hidden', 'opacity-0');
                return;
            }
            let totalTransfer = parseInt(nilaiCustom) + kodeUnik;
            tampilkanBoxTotal(totalTransfer);
        }

        function getBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = () => resolve(reader.result);
                reader.onerror = error => reject(error);
            });
        }

        // ==========================================
        // SUBMIT FORM DONASI
        // ==========================================
        document.getElementById('donasiForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const scriptURL = 'https://script.google.com/macros/s/AKfycbz60JdpkR6hx9HO2FcInATh_-7Wy-fsmaTRHg6JWXbPuf0_j0HezDzX5iZx6FXsCaPq/exec'; 
            const btnSubmit = document.getElementById('btnSubmit');
            const loadingText = document.getElementById('loadingText');
            const nominal = document.getElementById('nominalValue').value;
            
            if(!nominal) { alert("Silakan pilih atau masukkan nominal donasi terlebih dahulu."); return; }

            btnSubmit.classList.add('hidden');
            loadingText.classList.remove('hidden');

            const fileInput = document.getElementById('bukti').files[0];
            let base64Data = ""; let mimeType = "";

            if (fileInput) {
                const fullBase64 = await getBase64(fileInput);
                base64Data = fullBase64.split('base64,')[1];
                mimeType = fileInput.type;
            }

            const payload = {
                tanggal: document.getElementById('tanggal').value,
                nama: document.getElementById('nama').value,
                nominal: nominal,
                keterangan: document.getElementById('keterangan').value,
                fileData: base64Data,
                fileName: fileInput ? fileInput.name : "",
                mimeType: mimeType
            };

            fetch(scriptURL, {
                method: 'POST',
                redirect: 'follow',
                headers: { 'Content-Type': 'text/plain;charset=utf-8' },
                body: JSON.stringify(payload)
            })
            .then(response => response.json())
            .then(result => {
                if(result.status === 'success') {
                    const waNumber = "6287787187428";
                    const waText = `Assalamu'alaikum Admin YPNJ,%0A%0ASaya telah melakukan donasi untuk Growth Masjid Daim.%0A%0ANama: ${payload.nama}%0ANominal: Rp ${parseInt(payload.nominal).toLocaleString('id-ID')}%0ATanggal: ${payload.tanggal}%0AKeterangan: ${payload.keterangan}%0A%0ABukti transfer telah saya unggah di form konfirmasi website. Mohon dicek.`;
                    
                    window.location.href = `https://wa.me/${waNumber}?text=${waText}`;
                } else {
                    alert("Terjadi kesalahan sistem: " + result.message);
                    btnSubmit.classList.remove('hidden'); loadingText.classList.add('hidden');
                }
            })
            .catch(error => {
                alert("Gagal menghubungi server. Pastikan internet stabil.");
                btnSubmit.classList.remove('hidden'); loadingText.classList.add('hidden');
            });
        });
    </script>
</body>
</html>
